<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<style>
		h1, p{
			color: #FFFFFF;
			text-align: center;
			font-size: 30px;
		}
		.keyrow{
			margin-top: 5px;
			margin-bottom: 5px;
			display: flex;
			flex-direction: row;
			justify-content: center;
			align-items: center;
		}
		.key{
			margin-left: 5px;
			margin-rightL 5px;
			border-style: solid;
			border-radius: 5px;
			border-color: #999999;
			width: 100px;
			height: 100px;
			vertical-align: middle;
		}
		</style>
	</head>
	<body>
		<h1 id="displayheader">""</h1>
		<div id="keycontainer"></div>
		<script>
			let displayheader = document.getElementById("displayheader")
		    	let keycontainer = document.getElementById("keycontainer")
		    	let keydetect = document.getElementsByClassName("keydetect")
		    	let keylist = [
					[
						["~`", "192"],
						["1", "49"],
						["2", "50"],
						["3", "51"],
						["4", "52"],
						["5", "53"],
						["6", "54"],
						["7", "55"],
						["8", "56"],
						["9", "57"],
						["0", "48"],
						["_-", "189"],
						["+=", "187"],
						["Backspace", "8"]
					],
					[
						["Tab", "9"],
						["Q", "81"],
						["W", "87"],
						["E", "69"],
						["R", "82"],
						["T", "84"],
						["Y", "89"],
						["U", "85"],
						["I", "73"],
						["O", "79"],
						["P", "80"],
						["{[", "219"],
						["}]", "221"],
						["|\\", "220"],
					],
					[
						["\uF09F948D", "91"],
						["A", "65"],
						["S", "83"],
						["D", "68"],
						["F", "70"],
						["G", "71"],
						["H", "72"],
						["J", "74"],
						["K", "75"],
						["L", "76"],
						[":;", "186"],
						["\" '", "222"],
						["Enter", "13"]
					],
					[
						["LShift", "16", 1],
						["Z", "90"],
						["X", "88"],
						["C", "67"],
						["V", "86"],
						["B", "66"],
						["N", "78"],
						["M", "77"],
						["<,", "188"],
						[">.", "190"],
						["?/", "191"],
						["RShift", "16", 2]
					],
					[
						["LCtrl", "17", 1],
						["LAlt", "18", 1],
						["Space", "32"],
						["RAlt", "18", 2],
						["RCtrl", "17", 2]
					]
				]
		    
		    	for(i=0; i < keylist.length; i++){
					let elementstring = ""
					for(o=0; o < keylist[i].length; o++){
						elementstring += "<div class=key data-location=" + keylist[i][o][2] + " id=" + keylist[i][o][1] + "_" + keylist[i][o][2] + "><p"  + ">" + keylist[i][o][0] + "</p></div>"
					}
					keycontainer.innerHTML += "<div class=keyrow>" + elementstring.replaceAll("undefined", "0") + "</div>"
		    	}
		    
		    	document.addEventListener("keydown", event => {
					if (event.keyCode === 9 || event.keyCode === 191 || event.keyCode === 222) {
						event.preventDefault();
    }
					displayheader.innerHTML = '"' + event.key + '" ' + event.keyCode
					let key = document.getElementById(event.keyCode + "_" + event.location)
					if(key != null){
						if(key.id == event.keyCode + "_" + event.location){
							let keylocation = key.getAttribute("data-location")
							if(keylocation == "undefined"){
								key.setAttribute("style", "background-color: #FF0000; border-color: #00FF00")
							} else if(keylocation == event.location) {
								key.setAttribute("style", "background-color: #FF0000; border-color: #00FF00")
							}
						}
					}
				})		    
		    	document.addEventListener("keyup", event => {
					displayheader.innerHTML = '"' + event.key + '"'
					let key = document.getElementById(event.keyCode + "_" + event.location)
					if(key != null){
						if(key.id == event.keyCode + "_" + event.location){
							let keylocation = key.getAttribute("data-location")
							if(keylocation == "undefined"){
								key.setAttribute("style", key.getAttribute("style").replace("#FF0000", "#000000"))
							} else if(keylocation == event.location) {
								key.setAttribute("style", key.getAttribute("style").replace("#FF0000", "#000000"))
							}
						}
					}
				})
		</script>
	</body>
</html>
